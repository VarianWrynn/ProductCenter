@model PermaisuriCMS.Model.CMS_SKU_Model

@{
    Layout = null;
    if (Model == null)
    {
    @Html.ActionLink("This item can not be found,click here try to add new product for channel？", "Index","SKUCreate");
                                                                                                                  return;
    }
}

<!DOCTYPE html>
@*<link href="@Url.Content("~/Content/themes/base/jquery-ui.css")" rel="Stylesheet" type="text/css" />*@
@*<link href="@Url.Content("~/Content/themes/base/jquery.ui.autocomplete.css")" rel="Stylesheet" type="text/css" />*@
<link href="@Url.Content("~/Content/themes/gray/easyui.css")" rel="Stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/themes/icon.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/Common.css?20140611")" rel="Stylesheet" type="text/css" />
<link href="@Url.Content("~/Scripts/FancyBox/jquery.fancybox.css")" rel="Stylesheet" type="text/css" />
<link href="@Url.Content("~/Scripts/image-picker/image-picker.css")" rel="Stylesheet" type="text/css" />
<link href="@Url.Content("~/Scripts/PlugIn/Chosen/chosen.min.css")" rel="Stylesheet" type="text/css" />
@*<link href="@Url.Content("~/Scripts/PlugIn/Overlay/overlay.css")" rel="Stylesheet" type="text/css" />*@

<link href="@Url.Content("~/Content/ProductConfiguration/ProductConfiguration.css?20140611")" rel="Stylesheet" type="text/css" />

<style type="text/css">
    .chosen-container-single .chosen-single
    {
        height: 27px;
        line-height: 28px;
    }

    .chosen-container-multi .chosen-choices li.search-field input[type="text"]
    {
        height: 25px;
    }

    .demo_line_02
    {
        height: 1px;
        border-top: 1px solid #ddd;
        text-align: center;
    }

        .demo_line_02 span
        {
            position: relative;
            top: -8px;
            background: #fff;
            padding: 0 20px;
        }

    #mainarea .combo .combo-text
    {
        /*覆盖掉默认的input样式，否则combobox下拉单样式很丑2014年3月24日*/
        border: 0 none;
        /*color:red;*/
    }
</style>

<script src="@Url.Content("~/Scripts/sea.js")" type="text/javascript"></script>
<script type="text/javascript">

    seajs.config({
        'map': [[/^(.*\.(?:css|js))(.*)$/i, '$1?20140611']]
    });

    seajs.use("ProductConfiguration/ProductConfiguration", function () {
        //New 2014年3月18日
    });
</script>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>ProductConfiguration</title>
</head>
<body>

    <div id="background" class="background" style="height: 300%">
    </div>
    <div id="progressBar" class="progressBar">
        Loading,please wait...
    </div>
    <div>
        <div id="imgUploadDiv"></div>
        <aside id="mainarea">
            <div class="breadcam">
                <ul>
                    <li><span class="whitearrow">SKU @Model.SKU ( @Html.Label(Model.BrandName)  |  @Html.Label(Model.ChannelName))</span></li>
                </ul>
            </div>
            @*  @Html.Label(Model.SKU) 形式遇到 10628.00 只会显示小数点后面2个零...2013年10月24日16:36:31 Lee *@
            <h2>Product Configuration <span>SKU: @Model.SKU  |  Brand:  @Html.Label(Model.BrandName)  |  Channel: @Html.Label(Model.ChannelName)  </span></h2>

            <div class="fr">
                <span>
                    <select id="opStatus" class="chosen-select" disabled="disabled">
                        @foreach (PermaisuriCMS.Model.SKU_Status_Model status in Model.StatusList)
                        {
                            if (status.StatusID == Model.StatusID)
                            {
                            <option value="@status.StatusID" selected="selected">@status.StatusName</option>
                            }
                            else
                            {
                            <option value="@status.StatusID">@status.StatusName</option>
                            }
                        }
                    </select>
                    &nbsp;@*<input type="image" id="btnDuplicate" style="border: 1px;" src="~/Content/Products/images/duplicate-btn.png">*@
                </span>
                <span>

                    <a class="buttonCMS greenCMS" id="btnDuplicate">Duplicate</a>
                </span>

            </div>
            <div class="prodetailsbg">
                <form id="ProductConfigurationForm">
                    <table width="100%" border="0" cellspacing="5">
                        <tbody>
                            <tr>
                                <td width="35%" align="left">Product Name</td>
                                <td width="15%" align="left">SKU</td>
                                <td width="20%" align="left">UPC</td>
                                <td width="30%" align="left">Brand</td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <input type="text" value="@Model.ProductName"  required="required"  id="ProductName" class="productname"  readonly="readonly" ></td>
                                <td align="left">
                                    <input type="text"  value="@Model.SKU"  required="required"  id="SKU" class="skuname" readonly="readonly" ></td>
                                <td align="left">
                                    <input type="text" value="@Model.UPC" id="UPC" class="easyui-validatebox upcname" data-options="validType:'length[0,50]'"  readonly="readonly"></td>
                                <td>
                                    @* <input id="cbBrand" name="cbBrand" value="@Model.BrandName" style="width: 250px; height: 30px;">*@

                                    <input type="text"  value="@Model.BrandName" id="cbBrand" style="width: 220px; height: 30px;" disabled="disabled"
                                        data-options="
                                            required:'required',
                                            valueField:'Brand_Id',
                                            textField:'Brand_Name',
                                            value:@Model.BrandID,
                                            url:'../CMSCacheableData/BrandList?isNeedAll=false'
                                        " />
                                </td>
                            </tr>

                            <tr>
                                <td width="35%" align="left" id="tooltipMaterial" >Material</td>
                                <td width="15%" align="left" id="tooltipColour" >Colour</td>
                                <td width="20%" align="left" id="tooltipCategory" >Category</td>
                                <td width="30%" align="left" id="tooltipSubCategory">SubCategory</td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <input value="@Model.Material.MaterialName" class="easyui-validatebox Material"  
                                        required="required" data-options="validType:'length[0,100]'"  id="Material" readonly="readonly" />

                                </td>
                                <td align="left">
                                    <input type="text"  value="@Model.Colour.ColourName" class="easyui-validatebox Colour" 
                                         required="required" data-options="validType:'length[0,100]'" id="Colour" readonly="readonly" />
                                </td>

                                <td align="left">
                                    <input id="Category" value="@Model.Category.CategoryName"  class="easyui-validatebox Category"   
                                        required="required" data-options="validType:'length[0,100]'"  name="Category"   readonly="readonly" />
                                    <input id="CategoryID" value="@Model.Category.CategoryID" name="CategoryID" type="hidden" />
                                </td>
                                <td>
                                    <input type="text" value="@Model.SubCategory.CategoryName" id="SubCategory" class="easyui-validatebox SubCategory"
                                         required="required" data-options="validType:'length[0,100]'" readonly="readonly" />
                                </td>
                            </tr>

                            <tr>
                                <td width="35%" align="left" id="tooltipShiViaType">ShiVia Type</td>
                                <td width="15%" align="left"></td>
                                <td width="20%" align="left"></td>
                                <td width="30%" align="left"></td>
                            </tr>
                            <tr>
                                <td align="left">

                                    <input type="text" value="" id="ShipViaType" name="ShipViaType" style="min-width: 200px; height: 30px;"
                                        disabled="disabled"
                                        data-options="
                                            required:'required',
                                            valueField:'ShipViaTypeID',
                                            textField:'ShipViaTypeName',
                                            value:@Model.ShipViaTypeID==0?'': @Model.ShipViaTypeID,
                                            url:'../CMSCacheableData/ShipViaTypeList?isNeedAll=false'
                                        " />

                                </td>
                                <td align="left"></td>

                                <td align="left"></td>
                                <td></td>
                            </tr>

                            <tr>
                                <td align="left">Product Description</td>
                                <td align="left">&nbsp;</td>
                                <td align="left">&nbsp;</td>
                                <td>Bullets / Detailed Specifications (max. 5)</td>
                            </tr>
                            <tr>
                                <td valign="top" align="left" colspan="3">
                                    <textarea class="ProductDesc" rows="5" cols="45" id="ProductDesc" name="textarea" readonly="readonly">@Model.ProductDesc</textarea>
                                </td>
                                <td valign="top">
                                    <textarea class="Specifications" rows="5" cols="45" id="Specifications" name="textarea" readonly="readonly">@Model.Specifications</textarea></td>
                            </tr>
                            <tr>
                                <td valign="top" align="left" colspan="3">Tags and Keywords (comma separated)</td>
                                <td valign="top" rowspan="1"><span id="tooltipVisibility">Visibility on <strong>@Html.Label(Model.ChannelName)</strong></span> <span style="float: right;" id="tooltipSKU_QTY">SKU_QTY</span></td>
                            </tr>
                            <tr>
                                <td valign="top" align="left" colspan="3">
                                    <input type="text" value="@Model.Keywords" id="Keywords" class="keywordname" readonly="readonly"></td>
                                <td>
                                    <span>
                                        <select id="opVisibiliy" style="width: 160px; height: 30px; border: 1px;">
                                            @foreach (KeyValuePair<string, Int32> kvp in Model.GetProductVisibility())
                                            {
                                                if (kvp.Value == Model.Visibility)
                                                {
                                                <option value="@kvp.Value" selected="selected">Status: @kvp.Key</option>
                                                }
                                                else
                                                {
                                                <option value="@kvp.Value" >Status: @kvp.Key</option>
                                                }
                                            }
                                        </select>
                                    </span>

                                    <span>
                                        <input type="text" value="@Model.SKU_QTY" id="SKU_QTY"  readonly="readonly">
                                    </span>
                                </td>
                            </tr>

                            <tr>
                                <td valign="top" align="left" colspan="5">url</td>

                            </tr>
                            <tr>
                                <td valign="top" align="left" colspan="5">
                                    <input type="text" value="@Model.URL" id="URL" class="URL" readonly="readonly"></td>
                            </tr>

                            <tr>
                                <td colspan="5" align="right">
                                    <div>
                                        <span style="padding: 0 0 0 0;">
                                            <a class="buttonCMS greenCMS editSKU">Edit </a>
                                        </span>
                                        <span style="padding: 0 50px 0 0;">
                                            <a class="buttonCMS greenCMS submitSKU" style="display: none;">Submit </a>
                                        </span>
                                        <span style="padding: 0 0px 0 0;">
                                            <a class="buttonCMS greenCMS cancelSKU" style="display: none;">cancel </a>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>

                <form id="HMCostingForm">
                    <div class="feildsarea">
                        <p><strong>Costing</strong></p>
                        <table width="100%" border="0" cellspacing="0">
                            <thead>
                                <tr>
                                    <td id="tooltipSalePrice">Sale Price</td>
                                    <td id="tooltipEstimateFreight_SKU">Estimate Freight</td>
                                    @if (Model.userInfo.IsChannelControl == false)
                                    {
                                        <td id="tooltipFirstCost">Landed Cost</td>
@*<td id="tooltipLandedCost">Landed Cost</td>*@
                                    }
                                    <td id="tooltipRetailPrice">Retail Price</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <input type="text" value="@Model.SKU_Costing.SalePrice"  id="SalePrice" class="easyui-validatebox hmCost" required="required"  disabled="disabled"></td>
                                    <td>
                                        <input type="text" value="@Model.SKU_Costing.EstimateFreight" id="EstimateFreight_SKU" class="easyui-validatebox hmCost" required="required" disabled="disabled"></td>
                                    @if (Model.userInfo.IsChannelControl == false)
                                    {
                                        <td>
                                            <!--没有设置value是有原因的....这三个价格和SellPack息息相关，无法写死 2014年3月25日-->
                                            <input type="text" id="FirstCost" class="easyui-validatebox hmCost" required="required" disabled="disabled"></td>@*
                                        <td>
                                            <input type="text"  id="LandedCost" class="easyui-validatebox hmCost" required="required" disabled="disabled"></td>*@
                                        
                                    }
                                    <td>
                                        <input type="text" value="@Model.strRetailPrice" id="RetailPrice" class="easyui-validatebox hmCost" required="required" disabled="disabled"></td>
                                </tr>
                                <tr>
                                    <td colspan="5" align="right">
                                        <div style="padding-top: 5px;">
                                            <span style="padding: 0 0 0 0;">
                                                <a class="buttonCMS greenCMS editCosting">Edit costing </a>
                                            </span>
                                            <span style="padding: 0 50px 0 0;">
                                                <a class="buttonCMS greenCMS submitCosting" style="display: none;">Submit </a>
                                            </span>
                                            <span style="padding: 0 0 0 0;">
                                                <a class="buttonCMS greenCMS cancelCosting" style="display: none;">cancel </a>
                                            </span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </form>

                <div id="div_showOrhide">
                </div>

                <form id="ImagesForms">
                    <div class="feildsarea" id="chanelImageDIV" style="z-index: 9999">
                        <p class="mediaP">
                            Media Library  
                             <a class="buttonCMS greenCMS" id="btnSkuImgUpload">Upload Media To SKU </a>

                             <a class="buttonCMS greenCMS attachMediabtn">Attach Media </a>

                              <a class="buttonCMS greenCMS" id="btnCopySKUImages" style="float:right;" >Copy from Other Channel </a>
                        </p>
                        <div id="divMediaList">
                            @foreach (var media in Model.channelMedias)
                            {
                                var fName = media.ImgName + media.fileFormat;
                                var thfName = media.ImgName + "_th" + media.fileFormat;
                                var curMediaId = @media.MediaID;
                                var stringID = "hidMediaID";
                                <div class="liberyhld" id="@curMediaId">
                                    <div  class="bubbleInfo" id="@stringID@curMediaId" PrimaryImagesID ="@curMediaId">
                                        <a class="fancybox" href="@Model.CMSImgUrl@media.HMNUM/@fName" title="@media.ImgName">
                                            <img  src="@Model.CMSImgUrl@media.HMNUM/@thfName">
                                        </a>

                                        @if (!String.IsNullOrEmpty(Model.pImage))
                                        {
                                            if (media.ImgName.CompareTo(Model.pImage) == 0)
                                            { 
                                            <span class="primaryFlags"></span>
                                            }
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                       
                    </div>
                </form>

                @if (Model.IsGroup)
                {
                    <form id="HMParent">
                        <div class="feildsarea">
                            <p>HM# Group Info</p>
                            <table width="100%" cellspacing="0" cellpadding="5" border="0" class="">
                                <thead>
                                    <tr>
                                        <td>QTY (Pieces)</td>
                                        <td>HM#(HMGroup)</td>
                                        <td>ProductName</td>
                                        <td>Inventory</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model.SKU_HM_Relation.CMS_HMNUM != null)
                                    {
                                        <tr value="@Model.SKU_HM_Relation.CMS_HMNUM.ProductID">
                                            <td>
                                                <input type="text" id="HMParentQTY" value="@Model.SKU_HM_Relation.R_QTY" style="width:80px;height:28px;" readonly="readonly"  /></td>
                                            <td>
                                                <input type="text" id="HMParentHMNUM" value="@Model.SKU_HM_Relation.CMS_HMNUM.HMNUM" readonly="readonly"  style="width:200px;height:28px;  color: #666666;"  /></td>
                                            <td>
                                                <input type="text" id="HMParentName" value="@Model.SKU_HM_Relation.CMS_HMNUM.ProductName"  readonly="readonly" style=" min-width:400px; height:28px;  color: #666666;"  /></td>
                                            <td>
                                                <input type="text" id="HMParentInv" value="@Model.SKU_HM_Relation.CMS_HMNUM.StockKeyQTY"  style="width:50px;height:28px;" readonly="readonly"  /></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </form>
                }

                <form id="HMDetail">
                    <div class="feildsarea" id="productPiecesTable">
                        <p>Product Pieces</p>
                        <div>
                            <div class="piecesarea">
                                <table width="100%" border="0" cellspacing="5" cellpadding="5">
                                    <thead>
                                        <tr>
                                            <th>image</th>
                                            <th>
                                                <div style="text-align: center;">Qty</div>
                                                <div>(pieces)</div>
                                            </th>
                                            <th id="tooltipMP">MP</th>
                                            <th id="tooltipBoxNum">BoxNum</th>
                                            <th style="width: 17%">HM#</th>
                                            <th style="width: 32%">Part Name</th>
                                            <th>Inventory</th>
                                            <th>Carton Weight(lbs)</th>
                                            <th id="dynamicCTN">
                                                <div style="text-align: center;">Carton Dimension</div>
                                                <div style="text-align: center;">L x W x H(inches) </div>
                                            </th>
                                            <th id="dynamicDim">
                                                <div style="text-align: center;">Product Dimension</div>
                                                <div style="text-align: center;">L x W x H (inches) </div>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        @if (!Model.IsGroup)
                                        { 
                                            
                                            <tr>
                                                <td>
                                                    <div class="WEBPOImgDIV">
                                                        <a class="fancybox" href="@Model.SKU_HM_Relation.CMS_HMNUM.webSystemImage.Pic"  title="Come from @Model.SKU_HM_Relation.CMS_HMNUM.webSystemImage.SystemName">
                                                            <div class="fancyboxDiv">
                                                                <img src="@Model.SKU_HM_Relation.CMS_HMNUM.webSystemImage.SmallPic" onerror="this.src='../Content/images/NoPic.jpg' " />
                                                            </div>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <select style="width:70px; height: 28px;" class="easyui-combobox BasicQTY" data-options="
                                                       required:true,
                                                       validType:'ExactDivided[@Model.SKU_HM_Relation.CMS_HMNUM.MasterPack]'" >

                                                        @for (int i = 1; i < 16; i++)
                                                        {
                                                            if (@Model.SKU_HM_Relation.R_QTY == i)
                                                            { 
                                                            <option value="@i" selected="selected" >QTY:@i</option> 
                                                            }
                                                            else
                                                            {
                                                            <option value="@i">QTY:@i</option> 
                                                            }
                                                        }
                                                    </select>
                                                    <input type="hidden" value="@Model.SKU_HM_Relation.R_QTY" class="hiddenSellPack" />
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 30px; height: 26px;" class="MP" value="@Model.SKU_HM_Relation.CMS_HMNUM.MasterPack" readonly="readonly" />
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 50px; height: 26px;" class="BoxNum" value="@Model.SKU_HM_Relation.CMS_HMNUM.BoxNum" readonly="readonly" />
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 100%; height: 26px;" class="HM#" value="@Model.SKU_HM_Relation.CMS_HMNUM.HMNUM" readonly="readonly" />
                                                </td>

                                                <td>
                                                    <input type="text" style="width: 100%; height: 26px;" class="PartName" value="@Model.SKU_HM_Relation.CMS_HMNUM.ProductName" readonly="readonly" />
                                                </td>

                                                <td>
                                                    <input type="text" style="width: 50px; height: 26px;" class="StockKeyQTY" value="@Model.SKU_HM_Relation.CMS_HMNUM.StockKeyQTY" readonly="readonly" />
                                                </td>

                                                <td>
                                                    @foreach (var ctn in Model.SKU_HM_Relation.CMS_HMNUM.CTNList)
                                                    { 
                                                        <input type="text" style="width: 50px; height: 26px;" name="CTNWeight" class="CTNWeight" value="@ctn.CTNWeight" readonly="readonly" />
                                                    }
                                                </td>

                                                <td>
                                                    @foreach (var ctn in Model.SKU_HM_Relation.CMS_HMNUM.CTNList)
                                                    { 
                                                        <div style="white-space: nowrap;">
                                                            <input type="text" style=" width: 150px;height: 26px;" name="CTNWeight" class="CTNWeight" value="@ctn.CTNLength x @ctn.CTNWidth x @ctn.CTNHeight" readonly="readonly" />
                                                        </div>
                                                    
                                                    }

                                                </td>

                                                <td>
                                                    @foreach (var dim in Model.SKU_HM_Relation.CMS_HMNUM.DimList)
                                                    { 
                                                        <div style="min-width: 150px; white-space: nowrap;">
                                                            <input type="text" name="CTNWidth" class="CTNInput" style="min-width: 10%" value="@dim.DimLength x @dim.DimWidth x @dim.DimHeight" readonly="readonly">
                                                        </div>
                                                    }

                                                </td>

                                            </tr>
                                        }
                                        else //组合产品
                                        {
                                            foreach (var cHM in @Model.SKU_HM_Relation.CMS_HMNUM.Children_CMS_HMNUM_List)
                                            { 
                                            <tr>
                                                <td>
                                                    <div class="WEBPOImgDIV">
                                                        <a class="fancybox" href="@cHM.webSystemImage.Pic"  title="Come from @cHM.webSystemImage.SystemName">
                                                            <div class="fancyboxDiv">
                                                                <img src="@cHM.webSystemImage.SmallPic" onerror="this.src='../Content/images/NoPic.jpg' " />
                                                            </div>
                                                        </a>
                                                    </div>
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 40px; height: 26px;" class="QTY" value="@cHM.SellSets" readonly="readonly" />
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 30px; height: 26px;" class="MP" value="@cHM.MasterPack" readonly="readonly" />
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 50px; height: 26px;" class="BoxNum" value="@cHM.BoxNum"  readonly="readonly"/>
                                                </td>
                                                <td>
                                                    <input type="text" style="width: 100%; height: 26px;" class="HM#" value="@cHM.HMNUM" readonly="readonly" />
                                                </td>

                                                <td>
                                                    <input type="text" style="width: 100%; height: 26px;" class="PartName" value="@cHM.ProductName" readonly="readonly" />
                                                </td>

                                                <td>
                                                    <input type="text" style="width: 50px; height: 26px;" class="StockKeyQTY" value="@cHM.StockKeyQTY" readonly="readonly" />
                                                </td>

                                                <td>
                                                    @foreach (var ctn in cHM.CTNList)
                                                    { 
                                                        <input type="text" style="width: 50px; height: 26px;" name="CTNWeight" class="CTNWeight" value="@ctn.CTNWeight" readonly="readonly" />
                                                    }
                                                </td>

                                                <td>
                                                    @foreach (var ctn in cHM.CTNList)
                                                    { 
                                                        <div style="white-space: nowrap;">
                                                            <input type="text" style=" width: 150px;height: 26px;" name="CTNWeight" class="CTNWeight" value="@ctn.CTNLength x @ctn.CTNWidth x @ctn.CTNHeight" readonly="readonly" />
                                                        </div>
                                                    
                                                    }

                                                </td>

                                                <td>
                                                    @foreach (var dim in cHM.DimList)
                                                    { 
                                                        <div style="min-width: 150px; white-space: nowrap;">
                                                            <input type="text" name="CTNWidth" class="CTNInput" style="min-width: 10%" value="@dim.DimLength x @dim.DimWidth x @dim.DimHeight" readonly="readonly">
                                                        </div>
                                                    }

                                                </td>

                                            </tr>     
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>

                            <div id="totalStatis">

                                <table width="100%" border="0" cellspacing="0" cellpadding="5" id="statTable">
                                    <tbody>
                                        <tr>
                                            <td>Total Pieces: <strong class="totalPieces">1 </strong></td>
                                            <td>Total Weight: <strong class="totalWeight">0 lbs.</strong></td>
                                            <td>Total Boxes:<strong class="totalBox">  3 </strong></td>
                                            <td class="totalBoxDesc"></td>
                                            <td>
                                                @if (Model.userInfo.IsChannelControl == false)
                                                {
                                                    <div>Total Cost:<strong> <span class="totalCost" id="totalCost">$0.00</span></strong></div>
                                                }

                                            </td>
                                            <td align="right">
                                                @if (Model.userInfo.IsChannelControl == false)
                                                {
                                                    <a href="#" id="gotoHMNUMConfig" class="buttonCMS grayCMS">HMNUM Configuration</a>
                                                }
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>

                    </div>

                </form>

                <div class="feildsarea">
                    <p>Related Products</p>
                    <table width="100%" border="0" cellspacing="0" cellpadding="5" class="relatestable">
                        <tbody>
                            @foreach (var rSKU in Model.RelatedProducts)
                            {
                                if (rSKU.SKUID != Model.SKUID) //这里不能用return，否则后续的脚本会报错！
                                {
                                <tr>
                                    <td width="36%"><a class="aRelProduct" value="@rSKU.SKUID">@rSKU.ProductName </a></td>
                                    <td width="16%">SKU: <span>@rSKU.SKU </span></td>
                                    <td width="24%">Brand: <strong>@rSKU.BrandName</strong> </td>
                                    <td width="20%">Channel: @rSKU.ChannelName </td>
                                    <td width="5%"><a class="aGoToSite" target value="@rSKU.URL">View</a> </td>
                                    <td width="2%">&nbsp;</td>
                                </tr>
                                }
                            }

                        </tbody>
                    </table>
                </div>

            </div>
        </aside>
    </div>

    <div id="duplicateDIV" style="display: none; padding: 10px;">
        <form id="duplicateForm">
            <p>
                Please enter the new SKU code and select the brand and channel for this item. The Properties of the current
                SKU will be copied to the new one,where they can be customized further.
                Tips:Press "Ctrl" keyborad can help you choose multiple channel.
            </p>
            <span>
                <input type="text" id="deplicateSKUName" placeholder="SKUOrder" class="easyui-validatebox" data-options="required:true" style="margin-right: 10px;" />
            </span>
            <span style="padding-right: 10px;">
                <input type="text" class="duplicateBrand" placeholder="Choose a Brand" style="width: 280px; height: 32px;" />
            </span>
            <div style="margin-top: 10px;">
                <select multiple style="width: 75%;" class="multipleSelect">
                </select>

            </div>

            <a class="buttonCMS greenCMS duplicatAddBtn">Duplicate SKU </a>
            <a class="buttonCMS blackCMS duplicatCancelBtn">Cancel </a>
            @* <a class="duplicatAddBtn">
                <img src="../Content/images/addbtn.png"></a>*@
            @* <a class="duplicatCancelBtn">
                <img src="../Content/images/cancel-btn.jpg"></a>*@

        </form>
    </div>

    <div id="SkuImgUploadDIV" style="display: none; padding: 10px;">
        <form id="SkuImgUploadForm">
            <p style="font-size: medium">
                @* Notice:Others channel's SKUOrders  which have been associated the same HMNUM also will be seen those uploading media.*@
            </p>

            <div style="height: 100%">
                <iframe name="ifSKUMediaUpload" id="ifSKUMediaUpload" @*src="~/Media/FilesUpload?ReqIndicator=2&SKUID=@Model.SKUID&ProductID=@Model.SKU_HM_Relation.CMS_HMNUM.ProductID"*@></iframe>
            </div>
            <a class="buttonCMS greenCMS SkuImgUploadOKBtn">Attach to SKU</a>
            <a class="buttonCMS blackCMS SkuImgUploadCancelBtn">Cancel</a>

            @* <a class="SkuImgUploadOKBtn">
                <img src="../Content/images/addbtn.png"></a>
            <a class="SkuImgUploadCancelBtn">
                <img src="../Content/images/cancel-btn.jpg"></a>*@

        </form>
    </div>


    <div id="multipleChannelMediaModal" style="display: none">
        <div id="content_1" class="content">
            <div style="font-size: 12px;">
            </div>
            <div style="padding-top: 40px;" id="divSkuImg">
            </div>

            <select multiple style="width: 60%; min-height: 25px;" id="multMediaChannels">
            </select>

            <div class="fr">
                <a class="buttonCMS blackCMS myModalCancel ">Cancel </a>
                <a class="buttonCMS greenCMS myModalOK ">Attach to SKU </a>
                @* <input type="image" class="myModalCancel" src="~/Content/images/cancel-btn.jpg">
                <input type="image" class="myModalOK" src="~/Content/Media/images/skubtn.jpg">*@
            </div>
        </div>
    </div>


    <div id="copyOtherModal" style="display: none; min-height:100px; min-width:100px;">
        <div >
            <select style="width: 90%;  margin:25px 0 0 0" id="OtherChannel">
            </select>

            <div id="copyDisplayDiv" style=" margin:10px 0 10px 10px">
               <h1>Please select an option to copy its images</h1>
              
            </div>

          @*  <div class="fr" style="margin:20px 0 0 0">
                <a class="buttonCMS blackCMS copyOtherCancelBtn ">Cancel </a>
                <a class="buttonCMS greenCMS copyOtherlOKBtn">Attach to SKU </a>
            </div>*@
        </div>
    </div>

    <div id="add_media_bg" class="reveal-modal-bg" style="display: none; cursor: pointer;"></div>
    @Html.Hidden("hiddenSKUID", @Model.SKUID)
    @Html.HiddenFor(r=>r.SKUID);
    <input type="hidden" id="hiddenSKUID" value="@Model.SKUID" />
    <input type="hidden" id="hiddenCMSImgUrl" value="@Model.CMSImgUrl" />
    <input type="hidden" id="hiddenpImage" value="@Model.pImage" />
    <input type="hidden" id="hiddenStatusID" value="@Model.StatusID" />
    <input type="hidden" id="hiddenBrandID" value="@Model.BrandID" /><!--这个隐藏字段用于BrandID第一次初始化做撤销使用-->
    <input type="hidden" id="hiddenChannelID" value="@Model.ChannelID" /><!--这个隐藏字段用于图像和产品复制的时候，默认暂时选择当前渠道所用 2014年4月16日-->
    <input type="hidden" id="hiddenProductID" value="@Model.SKU_HM_Relation.CMS_HMNUM.ProductID" />
    <input type="hidden" id="hiddenStockKey" value="@Model.SKU_HM_Relation.CMS_HMNUM.StockKey" /><!--这个是用于GetChannelsByHM使用，建议改成StockeyID 2014年5月5日-->
    <input type="hidden" id="hiddenStockKeyID" value="@Model.SKU_HM_Relation.CMS_HMNUM.StockKeyID" /><!--UpdateSellPack 2014年5月5日-->
    <input type="hidden" id="hiddenSKUInfo" value="@ViewBag.SKUInfo" />

    <!--用于统计信息的判断-->


      <input type="hidden" id="hiddenCopySKUID" value="0" />
</body>
</html>
